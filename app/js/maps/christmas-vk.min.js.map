{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/js/christmas-vk.js","app/js/modules/christmas_main.js","app/js/modules/christmas_style.js","app/js/modules/christmas_vk.js"],"names":[],"mappings":"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","file":"../christmas-vk.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","// Импорт главного класса\r\nimport ChristmasLights from './modules/christmas_vk';\r\n\r\n// Импорт стилей\r\nimport { christmas_style_vk } from './modules/christmas_style';\r\n\r\n\r\n\r\n// Запуск\r\n// Чтобы не грузилось в iframe\r\nif (window.top === window) {\r\n    requestAnimationFrame(function launch() {\r\n        if (!document.querySelector('.head_nav_btns')) {\r\n            console.log('Шапки еще нет');\r\n\r\n            requestAnimationFrame(launch);\r\n        } else {\r\n            console.log('%c%s', (window.log_color) ? window.log_color.purple : '', '*Christmas lights* Запуск рабочего скрипта');\r\n\r\n            window.christmasLights = new ChristmasLights({\r\n                // Количество фонариков\r\n                amount: 50,\r\n                // Максимальное отклонение от центральной позиции\r\n                deviation: 30,\r\n                // В какой блок вставлять (альфа, сейчас глючит все, кроме body)\r\n                parent: 'body',\r\n                // Инъекция стилей (не трогать)\r\n                style_content: christmas_style_vk\r\n            });\r\n        }\r\n    })\r\n}","/* Christmas lights */\r\nexport default class ChristmasLights {\r\n    constructor(settings = {}) {\r\n        // Классы для цветов фонариков\r\n        this.color_classes = {\r\n            red: 'christmas-item_red',\r\n            yellow: 'christmas-item_yellow',\r\n            green: 'christmas-item_green',\r\n            blue: 'christmas-item_blue'\r\n        };\r\n\r\n        // Общее количество фонариков\r\n        this.amount = settings.amount || 40;\r\n        // Количество фонариков каждого цвета\r\n        this.color_amount = {};\r\n        // Максимальное отклонение фонариков от базовой позиции\r\n        this.deviation = settings.deviation || 10\r\n\r\n        // Селектор блока, в котором будет создаваться контейнер\r\n        this.parent = document.querySelector(settings.parent) || document.querySelector('body');\r\n        // Переменная, содержащая в себе текстовый контент стилей\r\n        this.style_content = settings.style_content;\r\n        // Контейнер, в котором будут создаваться фонарики\r\n        this.container = document.createElement('div');\r\n        // Размеры контейнера\r\n        this.container_size = {\r\n            x: 0,\r\n            y: 0\r\n        }\r\n\r\n        // Массив созданных элементов-фонариков\r\n        this.buffer = [];\r\n        // Флаг паузы движения\r\n        this.pause_run = false;\r\n        // Флаг запущенной анимации мерцания\r\n        this.init_animation = true;\r\n        // Флаг показа фонариков\r\n        this.show = true;\r\n\r\n\r\n        // Точка входа\r\n        this.init();\r\n    }\r\n\r\n    // Возвращает рандомное число в указанных границах\r\n    rand(min, max) {\r\n        let rand = Math.floor(min + Math.random() * (max + 1 - min));\r\n        if (rand === 0) {\r\n            rand++;\r\n        }\r\n        return rand;\r\n    }\r\n\r\n    // Вставка стилей внутрь контейнера\r\n    styleInject(style_content, elem, id) {\r\n        const stl = document.createElement('style');\r\n        stl.id = id;\r\n        stl.textContent = style_content;\r\n        elem.appendChild(stl);\r\n    }\r\n\r\n    // Установка нового количества фонариков\r\n    setAmount(new_amount) {\r\n        new_amount = (new_amount < 0) ? 0 : new_amount;\r\n        new_amount = (new_amount > 1000) ? 1000 : new_amount;\r\n        this.amount = +new_amount;\r\n        this.computeAmount(this.amount);\r\n\r\n        this.itemsRemover();\r\n        this.itemsReGen();\r\n    }\r\n\r\n    // Вкл/выкл анимации мерцания\r\n    toggleAnimation(flag) {\r\n        if (typeof flag === 'boolean') {\r\n            this.init_animation = flag;\r\n        } else {\r\n            this.init_animation = !this.init_animation;\r\n        }\r\n\r\n        if (this.init_animation) {\r\n            this.buffer.forEach((item) => this.initAnimation(item));\r\n\r\n            return 'Run';\r\n        } else {\r\n            this.buffer.forEach((item) => this.removeAnimation(item));\r\n\r\n            return 'Pause';\r\n        }\r\n    }\r\n\r\n    // Удалить анимацию мерцания\r\n    removeAnimation(item) {\r\n        requestAnimationFrame(() => item.elem.classList.remove('christmas-item-anim'));\r\n        this.init_animation = false;\r\n    }\r\n\r\n    // Добавить анимацию мерцания\r\n    initAnimation(item) {\r\n        requestAnimationFrame(() => item.elem.classList.add('christmas-item-anim'));\r\n        this.init_animation = true;\r\n    }\r\n\r\n    // Первый звпуск движения всех фонариков\r\n    firstRun() {\r\n        setTimeout(() => {\r\n            this.buffer.forEach((item, index) => {\r\n                item.x = 0;\r\n                item.y = 0;\r\n                requestAnimationFrame(() => this.runItem(index))\r\n            })\r\n        }, 100);\r\n    }\r\n\r\n    // Запускает движение фонарика\r\n    runItem(index) {\r\n        let item = this.buffer[index];\r\n\r\n        if (item) {\r\n            let x = item.x + this.rand(-4, 4);\r\n            let y = item.y + this.rand(-4, 4);\r\n\r\n            x = (x < (0 - this.deviation)) ? 0 : (x > this.deviation) ? 0 : x;\r\n            y = (y < (0 - this.deviation)) ? 0 : (y > this.deviation) ? 0 : y;\r\n\r\n            this.buffer[index].x = x;\r\n            this.buffer[index].y = y;\r\n\r\n            let transform_duration = this.rand(1500, 2500);\r\n            this.buffer[index].elem.style.transition = `transform ${transform_duration}ms ease-in-out, top ${transform_duration}ms ease-in-out, left ${transform_duration}ms ease-in-out`;\r\n            this.buffer[index].elem.style.transform = `translate3d(${x}px, ${y}px, 1px)`;\r\n        }\r\n    }\r\n\r\n    // Метод для остановки/возобновления движения фонариков\r\n    pauseRun(flag) {\r\n        if (typeof flag === 'boolean') {\r\n            this.pause_run = flag;\r\n        } else {\r\n            this.pause_run = !this.pause_run;\r\n        }\r\n\r\n        if (!this.pause_run) {\r\n            this.firstRun();\r\n            this.pause_run = false;\r\n\r\n            return 'Run';\r\n        }\r\n\r\n        this.pause_run = true;\r\n\r\n        return 'Pause';\r\n    }\r\n\r\n    // Инициализация движения фонариков и слушателя его окончания\r\n    initRun() {\r\n        this.container.addEventListener('transitionend', e => {\r\n            if (e.propertyName === 'transform' && !this.pause_run) {\r\n                // console.log(e.propertyName);\r\n                this.runItem(Number(e.target.dataset.christmasItem));\r\n            }\r\n        });\r\n    }\r\n\r\n    // Меняет положение всех фонариков\r\n    updatePosition() {\r\n        this.container_size.x = window.innerWidth;\r\n        this.container_size.y = window.innerHeight;\r\n        this.buffer.forEach(item => this.setPosition(item))\r\n    }\r\n\r\n    // Задает позицию фонарика\r\n    setPosition(item) {\r\n        requestAnimationFrame(() => {\r\n            item.elem.style.top = this.rand(0 + 15, this.container_size.y - 15) + 'px';\r\n            item.elem.style.left = this.rand(0 + 15, this.container_size.x - 15) + 'px';\r\n        })\r\n    }\r\n\r\n    // Вставка фонарика в контейнер\r\n    appendItem(elem) {\r\n        requestAnimationFrame(() => this.container.appendChild(elem))\r\n    }\r\n\r\n    // Генерация фонариков\r\n    itemsGenerator() {\r\n        let item_index = 0;\r\n        for (let color in this.color_amount) {\r\n            let amount = this.color_amount[color];\r\n\r\n            for (let i = 0; i < amount; i++) {\r\n                let item = {\r\n                    x: 0,\r\n                    y: 0\r\n                };\r\n                let elem = document.createElement('div');\r\n                elem.classList.add('christmas-item', this.color_classes[color]);\r\n                elem.dataset.christmasItem = item_index;\r\n\r\n                let transform_duration = this.rand(1500, 2500);\r\n                elem.style.transition = `transform ${transform_duration}ms ease-in-out, top ${transform_duration}ms ease-in-out, left ${transform_duration}ms ease-in-out`;\r\n\r\n                item.elem = elem;\r\n                this.setPosition(item);\r\n\r\n                this.buffer[item_index] = item;\r\n                this.appendItem(elem);\r\n\r\n                item_index++;\r\n            }\r\n        }\r\n\r\n        this.show = true;\r\n    }\r\n\r\n    // Удаляет все фонарики из контейнера\r\n    itemsRemover() {\r\n        this.buffer.forEach((item) => {\r\n            requestAnimationFrame(() => this.container.removeChild(item.elem))\r\n        })\r\n\r\n        this.buffer = [];\r\n        this.show = false;\r\n    }\r\n\r\n    // Заново генерирует фонарики после удаления\r\n    itemsReGen() {\r\n        if (this.show === false) {\r\n            // Генерируем фонарики\r\n            this.itemsGenerator();\r\n\r\n            // И запускаем первое движение\r\n            if (!this.pause_run) {\r\n                this.firstRun();\r\n            }\r\n\r\n            // Запускаем анимацию мерцания\r\n            if (this.init_animation) {\r\n                this.toggleAnimation(true);\r\n            }\r\n\r\n            return 'Generate';\r\n        } else {\r\n            this.itemsRemover();\r\n\r\n            return 'Remove';\r\n        }\r\n    }\r\n\r\n    // Расчет размеров контейнера\r\n    computeContainerSize() {\r\n        this.container_size.x = window.innerWidth;\r\n        this.container_size.y = window.innerHeight;\r\n    }\r\n\r\n    // Инициализация контейнера\r\n    initContainer() {\r\n        this.container.id = 'christmas-container';\r\n        this.styleInject(this.style_content, this.container, 'christmas-style');\r\n        this.parent.appendChild(this.container);\r\n    }\r\n\r\n    // Расчет количества фонариков каждого цвета\r\n    computeAmount(amount) {\r\n        this.color_amount = {\r\n            red: Math.floor(amount / 4),\r\n            yellow: Math.floor(amount / 4),\r\n            green: Math.floor(amount / 4),\r\n            blue: amount - (Math.floor(amount / 4) * 3)\r\n        }\r\n    }\r\n\r\n    init() {\r\n        this.computeAmount(this.amount);\r\n\r\n        this.computeContainerSize();\r\n\r\n        this.initContainer();\r\n\r\n        // Генерируем фонарики\r\n        if (this.show) {\r\n            this.itemsGenerator();\r\n        }\r\n\r\n        // После генерации всех фонариков вешаем на контейнер слушатель transitionend\r\n        this.initRun();\r\n\r\n        // И запускаем первое движение\r\n        if (!this.pause_run) {\r\n            this.firstRun();\r\n        }\r\n\r\n\r\n        // Запускаем анимацию мерцания\r\n        if (this.init_animation) {\r\n            this.toggleAnimation(true);\r\n        }\r\n\r\n    }\r\n}","// Стили для основного скрипта\r\nexport const christmas_style = `\r\nbody {\r\n  position: relative;\r\n  min-width: 100%;\r\n  min-height: 100vh;\r\n  margin: 0;\r\n}\r\n\r\n#christmas-container {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: -9999;\r\n  overflow: hidden;\r\n}\r\n\r\n.christmas-item {\r\n  width: 10px;\r\n  height: 10px;\r\n  position: absolute;\r\n  will-change: transform, opacity;\r\n  border-radius: 50%;\r\n}\r\n\r\n.christmas-item_red {\r\n\r\n}\r\n\r\n.christmas-item_yellow {\r\n\r\n}\r\n\r\n.christmas-item_green {\r\n\r\n}\r\n\r\n.christmas-item_blue {\r\n\r\n}\r\n\r\n.christmas-item:before {\r\n  content: '';\r\n  display: block;\r\n  position: absolute;\r\n  border-radius: 50%;\r\n  width: 8px;\r\n  height: 8px;\r\n  top: 50%;\r\n  left: 50%;\r\n  will-change: transform, opacity;\r\n  transform: translate3d(-50%, -50%, 1px) scale(0);\r\n}\r\n\r\n.christmas-item:after {\r\n  content: '';\r\n  display: block;\r\n  position: absolute;\r\n  border-radius: 50%;\r\n  width: 10px;\r\n  height: 10px;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate3d(-50%, -50%, 1px);\r\n}\r\n\r\n.christmas-item_red:before {\r\n  /* #FA0C00 */\r\n  box-shadow: 0 0 20px 6px rgba(250, 12, 0, 1);\r\n  animation-delay: 0s;\r\n}\r\n\r\n.christmas-item_red:after {\r\n  background: #F32613;\r\n}\r\n\r\n.christmas-item_yellow:before {\r\n  /* #FAF200 */\r\n  box-shadow: 0 0 20px 6px rgba(250, 242, 0, .8);\r\n  animation-delay: .5s;\r\n}\r\n\r\n.christmas-item_yellow:after {\r\n  background: #F0F343;\r\n}\r\n\r\n.christmas-item_green:before {\r\n  /* #2AFA00 */\r\n  box-shadow: 0 0 20px 6px rgba(42, 250, 0, .8);\r\n  animation-delay: 1s;\r\n}\r\n\r\n.christmas-item_green:after {\r\n  background: #61F351;\r\n}\r\n\r\n.christmas-item_blue:before {\r\n  /* #23FFF4 */\r\n  box-shadow: 0 0 20px 8px rgba(35, 255, 244, .6);\r\n  animation-delay: 1.5s;\r\n}\r\n\r\n.christmas-item_blue:after {\r\n  background: #89f3ef;\r\n}\r\n\r\n.christmas-item-anim:before {\r\n  animation-name: christmas-item-anim;\r\n  animation-duration: 1.7s;\r\n  animation-timing-function: linear;\r\n  animation-iteration-count: infinite;\r\n}\r\n\r\n@keyframes christmas-item-anim {\r\n  0% {\r\n      transform: translate3d(-50%, -50%, 1px) scale(.6);\r\n      opacity: .7;\r\n  }\r\n  50% {\r\n      transform: translate3d(-50%, -50%, 1px) scale(.9);\r\n      opacity: 1;\r\n  }\r\n  100% {\r\n      transform: translate3d(-50%, -50%, 1px) scale(.6);\r\n      opacity: .7;\r\n  }\r\n}\r\n`;\r\n\r\n// Стили для запуска на странице ВК\r\nconst _style_vk = `\r\n.christmas-controls {\r\n  width: auto;\r\n  min-width: 36px;\r\n  float: left;\r\n  padding: 0 5px !important;\r\n  height: 42px;\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  position: relative;\r\n}\r\n\r\n.christmas_controls .ui_rmenu_item_sel:not(:hover) {\r\n  border-left: 2px solid transparent !important;\r\n  background-color: transparent !important;\r\n}\r\n\r\n.christmas_controls .cur_default {\r\n  cursor: default !important;\r\n}\r\n\r\n.christmas-controls .christmas_controls {\r\n  border: 1px solid #c5d0db;\r\n  background: #fff;\r\n  position: absolute;\r\n  opacity: 1;\r\n  left: 0px;\r\n  pointer-events: auto;\r\n  box-shadow: 0 0 7px 0px rgba(0, 0, 0, 0.3) !important;\r\n  user-select: none;\r\n\r\n  opacity: 0;\r\n  bottom: 0;\r\n  z-index: -99;\r\n  will-change: transform;\r\n  transform: translate3d(0, 0, 1px);\r\n  transition: transform .3s .3s ease-in-out, opacity .2s .3s !important;\r\n}\r\n\r\n.christmas-controls:hover .christmas_controls {\r\n  z-index: 1;\r\n\r\n  opacity: 1;\r\n  transform: translate3d(0, 100%, 1px);\r\n  transition: transform .3s .3s ease-in-out, opacity .2s .3s, z-index .1s .3s !important;\r\n}\r\n\r\n.christmas_controls .christmas_controls_content {\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n  min-width: 235px;\r\n  max-height: inherit;\r\n  max-width: 300px;\r\n  overflow: visible !important;\r\n  width: auto!important;\r\n}\r\n.christmas_controls_content .content {\r\n  margin-bottom: -1px;\r\n}\r\n.christmas_controls_content .line_cell {\r\n  padding: 0 15px;\r\n  height: 48px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  cursor: pointer;\r\n}\r\n.line_cell .option_name {\r\n  flex-grow: 1;\r\n  text-decoration: none;\r\n}\r\n.christmas_controls_content .line_cell:hover,\r\n.christmas_controls_content .line_cell.selected {\r\n  background-color: #e4eaf0;\r\n}\r\n\r\n.tt_default.tt_up:before {\r\n  border-width: 6px;\r\n  margin: 0 -6px;\r\n  border-bottom-color: #c5d0db;\r\n}\r\n.tt_default.tt_up:after {\r\n  border-width: 5px;\r\n  margin: 0 -5px;\r\n  border-bottom-color: #fff;\r\n  transform: translate3d(0, 0.5px, 0);\r\n}\r\n.christmas_controls.tt_default.tt_up:after, \r\n.christmas_controls.tt_default.tt_up:before {\r\n  left: 24px;\r\n}\r\n.tt_w.tt_up:after, .tt_w.tt_up:before {\r\n  bottom: 100%;\r\n}\r\n.tt_w:after, .tt_w:before {\r\n  position: absolute;\r\n  pointer-events: none;\r\n  border: solid transparent;\r\n  content: '';\r\n  height: 0;\r\n  width: 0;\r\n}\r\n\r\n.christmas_controls input.text.ts_input {\r\n  padding: 6px 6px 6px 6px;\r\n  background-image: none !important;\r\n  width: 50px;\r\n  margin: 0 0 0 10px;\r\n  border: 1px solid #c5d0db;\r\n  text-align: center;\r\n}\r\n\r\n/* Анимация \"кнопки настроек\" */\r\n.controls_light {\r\n  width: 12px;\r\n  height: 12px;\r\n  border-radius: 50%;\r\n  position: relative;\r\n}\r\n.controls_light:before {\r\n  animation-name: christmas-item-anim, controls_light_shadow;\r\n  animation-duration: 1.7s, 8.5s;\r\n  animation-timing-function: linear;\r\n  animation-iteration-count: infinite;\r\n}\r\n.controls_light:after {\r\n  animation-name: controls_light_background;\r\n  animation-duration: 8.5s;\r\n  animation-timing-function: linear;\r\n  animation-iteration-count: infinite;\r\n}\r\n.controls_light:before {\r\n  content: '';\r\n  display: block;\r\n  position: absolute;\r\n  border-radius: 50%;\r\n  width: 8px;\r\n  height: 8px;\r\n  top: 50%;\r\n  left: 50%;\r\n  will-change: transform, opacity;\r\n  transform: translate3d(-50%, -50%, 1px) scale(0);\r\n}\r\n.controls_light:after {\r\n  content: '';\r\n  display: block;\r\n  position: absolute;\r\n  border-radius: 50%;\r\n  width: 10px;\r\n  height: 10px;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate3d(-50%, -50%, 1px);\r\n}\r\n@keyframes controls_light_background {\r\n  0% {\r\n    background-color: rgba(250, 12, 0, 1);\r\n  }\r\n  25% {\r\n    background-color: rgba(250, 242, 0, .8);\r\n  }\r\n  50% {\r\n    background-color: rgba(42, 250, 0, .8);\r\n  }\r\n  75% {\r\n    background-color: rgba(35, 255, 244, .6);\r\n  }\r\n  100% {\r\n    background-color: rgba(250, 12, 0, 1);\r\n  }\r\n}\r\n@keyframes controls_light_shadow {\r\n  0% {\r\n    box-shadow: 0 0 20px 6px rgba(250, 12, 0, 1);\r\n  }\r\n  25% {\r\n    box-shadow: 0 0 20px 6px rgba(250, 242, 0, .8);\r\n  }\r\n  50% {\r\n    box-shadow: 0 0 20px 6px rgba(42, 250, 0, .8);\r\n  }\r\n  75% {\r\n    box-shadow: 0 0 20px 8px rgba(35, 255, 244, .6);\r\n  }\r\n  100% {\r\n    box-shadow: 0 0 20px 6px rgba(250, 12, 0, 1);\r\n  }\r\n}\r\n`;\r\nexport const christmas_style_vk = christmas_style + _style_vk;\r\n\r\n// Стили для запуска на простой странице\r\nconst _style_page = `\r\nbody {\r\n  background-color: rgb(37, 48, 60);\r\n}\r\n\r\n.test {\r\n  width: 100%;\r\n  height: 50vh;\r\n  position: relative;\r\n}\r\n\r\n.btn_update {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  color: #ffc000;\r\n  padding: 15px 10px;\r\n  border: 1px solid #ffc000;\r\n  background-color: rgba(37, 48, 60, .7);\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  z-index: 99;\r\n  user-select: none;\r\n}\r\n`;\r\nexport const christmas_style_page = christmas_style + _style_page;","// Импорт главного класса\r\nimport ChristmasLights from './christmas_main';\r\n\r\n// Класс для работы на странице ВК\r\nexport default class ChristmasLightsVK extends ChristmasLights {\r\n    constructor(param) {\r\n        super(param);\r\n\r\n    }\r\n\r\n\r\n    // Вызывает паузу движения и меняет текст в кнопке отключения движения\r\n    pauseRunHandler(e) {\r\n        let res = this.pauseRun();\r\n        let option_name = e.currentTarget.querySelector('.option_name');\r\n\r\n        if (res === 'Pause') {\r\n            option_name.textContent = 'Включить движение';\r\n        } else if (res === 'Run') {\r\n            option_name.textContent = 'Отключить движение';\r\n        }\r\n\r\n        this.Storage.set('pause_run', this.pause_run);\r\n    }\r\n\r\n    // Вызывает паузу анимации и меняет текст в кнопке\r\n    toggleAnimationHandler(e) {\r\n        let res = this.toggleAnimation();\r\n        let option_name = e.currentTarget.querySelector('.option_name');\r\n\r\n        if (res === 'Pause') {\r\n            option_name.textContent = 'Включить мерцание';\r\n        } else if (res === 'Run') {\r\n            option_name.textContent = 'Отключить мерцание';\r\n        }\r\n\r\n        this.Storage.set('init_animation', this.init_animation);\r\n    }\r\n\r\n    // Вызывает удаление/генерацию фонариков и меняет текст в кнопке\r\n    itemsReGenHandler(e) {\r\n        let res = this.itemsReGen();\r\n        let option_name = e.currentTarget.querySelector('.option_name');\r\n\r\n        if (res === 'Remove') {\r\n            option_name.textContent = 'Показать фонарики';\r\n        } else if (res === 'Generate') {\r\n            option_name.textContent = 'Убрать фонарики';\r\n        }\r\n\r\n        this.Storage.set('show', this.show);\r\n    }\r\n\r\n    setAmountHandler() {\r\n        let new_amount = this._set_amount.value;\r\n        this.setAmount(new_amount);\r\n\r\n        this.Storage.set('amount', this.amount);\r\n    }\r\n\r\n    updateAmountInput(amount) {\r\n        this._set_amount.value = amount;\r\n    }\r\n\r\n    // Получает элементы управления\r\n    getControlsElem(elem) {\r\n        // Инпут с количеством фонариков\r\n        this._set_amount = elem.querySelector('._set_amount input');\r\n        this.updateAmountInput(this.amount);\r\n        // Кнопка смены позиции\r\n        this._change_pos = elem.querySelector('._change_pos');\r\n\r\n        // Кнопка движения\r\n        this._pause_run = elem.querySelector('._pause_run');\r\n        let _pause_run_text = this._pause_run.querySelector('.option_name');\r\n        _pause_run_text.textContent = (this.pause_run) ? 'Включить движение' : 'Отключить движение';\r\n\r\n        // Кнопка анимации\r\n        this._anim_toggle = elem.querySelector('._anim_toggle');\r\n        let _anim_toggle_text = this._anim_toggle.querySelector('.option_name');\r\n        _anim_toggle_text.textContent = (this.init_animation) ? 'Отключить мерцание' : 'Включить мерцание';\r\n\r\n        // Кнопка Убрать/Показать фонарики\r\n        this._items_re_gen = elem.querySelector('._items_re_gen');\r\n        let _items_re_gen_text = this._items_re_gen.querySelector('.option_name');\r\n        _items_re_gen_text.textContent = (this.show) ? 'Убрать фонарики' : 'Показать фонарики';\r\n    }\r\n\r\n    // Вешает обработчики событий на элементы управления\r\n    initControlsHandlers() {\r\n        // Инпут с количеством фонариков\r\n        this._set_amount.addEventListener('input', this.setAmountHandler.bind(this));\r\n        // Кнопка смены позиции\r\n        this._change_pos.addEventListener('click', this.updatePosition.bind(this));\r\n        // Кнопка движения\r\n        this._pause_run.addEventListener('click', this.pauseRunHandler.bind(this));\r\n        // Кнопка анимации\r\n        this._anim_toggle.addEventListener('click', this.toggleAnimationHandler.bind(this));\r\n        // Кнопка Убрать/Показать фонарики\r\n        this._items_re_gen.addEventListener('click', this.itemsReGenHandler.bind(this));\r\n\r\n    }\r\n\r\n    // Возвращает шаблон блока управления\r\n    getTemplate() {\r\n        return `\r\n<div class=\"tt_w tt_default tt_up christmas_controls\">\r\n    <div class=\"wrapped\">\r\n        <div class=\"notify_sources_tt_content christmas_controls_content\">\r\n            <div class=\"content\">\r\n\r\n                <div class=\"line_cell clear_fix ui_rmenu_item_sel cur_default _set_amount\">\r\n                    <div class=\"option_name cur_default\">Количество фонариков</div>\r\n                    <input class=\"text ts_input\"></input>\r\n                </div>\r\n\r\n                <div class=\"line_cell clear_fix ui_rmenu_item_sel _change_pos\">\r\n                  <a class=\"option_name\">Сменить позицию</a>\r\n                </div>\r\n\r\n                <div class=\"line_cell clear_fix ui_rmenu_item_sel _pause_run\">\r\n                  <a class=\"option_name\">Отключить движение</a>\r\n                </div>\r\n\r\n                <div class=\"line_cell clear_fix ui_rmenu_item_sel _anim_toggle\">\r\n                  <a class=\"option_name\">Отключить мерцание</a>\r\n                </div>\r\n\r\n                <div class=\"line_cell clear_fix ui_rmenu_item_sel _items_re_gen\">\r\n                  <a class=\"option_name\">Убрать фонарики</a>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>`;\r\n    }\r\n\r\n    // Создание блока управления\r\n    initControls() {\r\n        let head_nav_btns = document.querySelector('.head_nav_btns');\r\n        let top_notify_btn = document.querySelector('#top_notify_btn');\r\n\r\n        if (head_nav_btns && top_notify_btn) {\r\n            let christmas_controls = document.createElement('div');\r\n            christmas_controls.classList.add('christmas-controls', 'top_nav_btn');\r\n            // christmas_controls.textContent = 'Дратути!';\r\n\r\n            let controls_light = document.createElement('div');\r\n            controls_light.classList.add('controls_light');\r\n            christmas_controls.appendChild(controls_light);\r\n\r\n            let christmas_controls_tt = document.createElement('div');\r\n            christmas_controls_tt.innerHTML = this.getTemplate();\r\n            christmas_controls.appendChild(christmas_controls_tt);\r\n\r\n            this.getControlsElem(christmas_controls);\r\n            this.initControlsHandlers(christmas_controls);\r\n\r\n            head_nav_btns.insertBefore(christmas_controls, top_notify_btn);\r\n        } else {\r\n            console.log('%c%s', (window.log_color) ? window.log_color.red : '', '*Christmas lights* не удалось создать блок управления');\r\n        }\r\n    }\r\n\r\n    initStorage(global_key) {\r\n        if (localStorage.getItem('christmasLights') == null) {\r\n            let start_obj = {\r\n                amount: this.amount,\r\n                pause_run: this.pause_run,\r\n                init_animation: this.init_animation,\r\n                show: this.show\r\n            }\r\n\r\n            localStorage.setItem(global_key, JSON.stringify(start_obj));\r\n        }\r\n\r\n        this.Storage = {\r\n            set(key, val) {\r\n                let tmp = JSON.parse(localStorage.getItem(global_key));\r\n                tmp[key] = val;\r\n                localStorage.setItem(global_key, JSON.stringify(tmp));\r\n\r\n                return tmp;\r\n            },\r\n            get(key) {\r\n                let tmp = JSON.parse(localStorage.getItem(global_key));\r\n\r\n                return tmp[key];\r\n            },\r\n            remove(key) {\r\n                let tmp = JSON.parse(localStorage.getItem(global_key));\r\n                delete tmp[key];\r\n                localStorage.setItem(global_key, JSON.stringify(tmp));\r\n\r\n                return tmp;\r\n            },\r\n            clear() {\r\n                localStorage.removeItem(global_key);\r\n            }\r\n        }\r\n    }\r\n\r\n    restoreSettings() {\r\n        this.amount = this.Storage.get('amount');\r\n        this.pause_run = this.Storage.get('pause_run');\r\n        this.init_animation = this.Storage.get('init_animation');\r\n        this.show = this.Storage.get('show');\r\n\r\n        return {\r\n            amount: this.amount,\r\n            pause_run: this.pause_run,\r\n            init_animation: this.init_animation,\r\n            show: this.show\r\n        }\r\n    }\r\n\r\n\r\n    init() {\r\n        this.initStorage('christmasLights');\r\n        this.restoreSettings();\r\n\r\n        super.init();\r\n\r\n\r\n        // Запуск создания блока управления\r\n        this.initControls();\r\n\r\n    }\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvanMvY2hyaXN0bWFzLXZrLmpzIiwiYXBwL2pzL21vZHVsZXMvY2hyaXN0bWFzX21haW4uanMiLCJhcHAvanMvbW9kdWxlcy9jaHJpc3RtYXNfc3R5bGUuanMiLCJhcHAvanMvbW9kdWxlcy9jaHJpc3RtYXNfdmsuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0NBOztBQUdBOzs7O0FBSkE7QUFHQTtBQUtBO0FBQ0E7QUFDQSxJQUFJLE1BQU0sQ0FBQyxHQUFQLEtBQWUsTUFBbkIsRUFBMkI7QUFDdkIsRUFBQSxxQkFBcUIsQ0FBQyxTQUFTLE1BQVQsR0FBa0I7QUFDcEMsUUFBSSxDQUFDLFFBQVEsQ0FBQyxhQUFULENBQXVCLGdCQUF2QixDQUFMLEVBQStDO0FBQzNDLE1BQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxlQUFaO0FBRUEsTUFBQSxxQkFBcUIsQ0FBQyxNQUFELENBQXJCO0FBQ0gsS0FKRCxNQUlPO0FBQ0gsTUFBQSxPQUFPLENBQUMsR0FBUixDQUFZLE1BQVosRUFBcUIsTUFBTSxDQUFDLFNBQVIsR0FBcUIsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsTUFBdEMsR0FBK0MsRUFBbkUsRUFBdUUsNENBQXZFO0FBRUEsTUFBQSxNQUFNLENBQUMsZUFBUCxHQUF5QixJQUFJLHFCQUFKLENBQW9CO0FBQ3pDO0FBQ0EsUUFBQSxNQUFNLEVBQUUsRUFGaUM7QUFHekM7QUFDQSxRQUFBLFNBQVMsRUFBRSxFQUo4QjtBQUt6QztBQUNBLFFBQUEsTUFBTSxFQUFFLE1BTmlDO0FBT3pDO0FBQ0EsUUFBQSxhQUFhLEVBQUU7QUFSMEIsT0FBcEIsQ0FBekI7QUFVSDtBQUNKLEdBbkJvQixDQUFyQjtBQW9CSDs7Ozs7Ozs7Ozs7Ozs7OztBQy9CRDtJQUNxQixlOzs7QUFDakIsNkJBQTJCO0FBQUEsUUFBZixRQUFlLHVFQUFKLEVBQUk7O0FBQUE7O0FBQ3ZCO0FBQ0EsU0FB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dEI7QUFDQSxXQUFLLElBQUwsR0FBWSxLQUFLLE9BQUwsQ0FBYSxHQUFiLENBQWlCLE1BQWpCLENBQVo7QUFFQSxhQUFPO0FBQ0gsUUFBQSxNQUFNLEVBQUUsS0FBSyxNQURWO0FBRUgsUUFBQSxTQUFTLEVBQUUsS0FBSyxTQUZiO0FBR0gsUUFBQSxjQUFjLEVBQUUsS0FBSyxjQUhsQjtBQUlILFFBQUEsSUFBSSxFQUFFLEtBQUs7QUFKUixPQUFQO0FBTUg7OzsyQkFHTTtBQUNILFdBQUssV0FBTCxDQUFpQixpQkFBakI7QUFDQSxXQUFLLGVBQUw7O0FBRUEsa0ZBSkcsQ0FPSDs7O0FBQ0EsV0FBSyxZQUFMO0FBRUg7Ozs7RUFoTzBDLHVCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLy8g0JjQvNC/0L7RgNGCINCz0LvQsNCy0L3QvtCz0L4g0LrQu9Cw0YHRgdCwXHJcbmltcG9ydCBDaHJpc3RtYXNMaWdodHMgZnJvbSAnLi9tb2R1bGVzL2NocmlzdG1hc192ayc7XHJcblxyXG4vLyDQmNC80L/QvtGA0YIg0YHRgtC40LvQtdC5XHJcbmltcG9ydCB7IGNocmlzdG1hc19zdHlsZV92ayB9IGZyb20gJy4vbW9kdWxlcy9jaHJpc3RtYXNfc3R5bGUnO1xyXG5cclxuXHJcblxyXG4vLyDQl9Cw0L/Rg9GB0LpcclxuLy8g0KfRgtC+0LHRiyDQvdC1INCz0YDRg9C30LjQu9C+0YHRjCDQsiBpZnJhbWVcclxuaWYgKHdpbmRvdy50b3AgPT09IHdpbmRvdykge1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uIGxhdW5jaCgpIHtcclxuICAgICAgICBpZiAoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkX25hdl9idG5zJykpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ9Co0LDQv9C60Lgg0LXRidC1INC90LXRgicpO1xyXG5cclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxhdW5jaCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJyVjJXMnLCAod2luZG93LmxvZ19jb2xvcikgPyB3aW5kb3cubG9nX2NvbG9yLnB1cnBsZSA6ICcnLCAnKkNocmlzdG1hcyBsaWdodHMqINCX0LDQv9GD0YHQuiDRgNCw0LHQvtGH0LXQs9C+INGB0LrRgNC40L/RgtCwJyk7XHJcblxyXG4gICAgICAgICAgICB3aW5kb3cuY2hyaXN0bWFzTGlnaHRzID0gbmV3IENocmlzdG1hc0xpZ2h0cyh7XHJcbiAgICAgICAgICAgICAgICAvLyDQmtC+0LvQuNGH0LXRgdGC0LLQviDRhNC+0L3QsNGA0LjQutC+0LJcclxuICAgICAgICAgICAgICAgIGFtb3VudDogNTAsXHJcbiAgICAgICAgICAgICAgICAvLyDQnNCw0LrRgdC40LzQsNC70YzQvdC+0LUg0L7RgtC60LvQvtC90LXQvdC40LUg0L7RgiDRhtC10L3RgtGA0LDQu9GM0L3QvtC5INC/0L7Qt9C40YbQuNC4XHJcbiAgICAgICAgICAgICAgICBkZXZpYXRpb246IDMwLFxyXG4gICAgICAgICAgICAgICAgLy8g0JIg0LrQsNC60L7QuSDQsdC70L7QuiDQstGB0YLQsNCy0LvRj9GC0YwgKNCw0LvRjNGE0LAsINGB0LXQudGH0LDRgSDQs9C70Y7Rh9C40YIg0LLRgdC1LCDQutGA0L7QvNC1IGJvZHkpXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQ6ICdib2R5JyxcclxuICAgICAgICAgICAgICAgIC8vINCY0L3RitC10LrRhtC40Y8g0YHRgtC40LvQtdC5ICjQvdC1INGC0YDQvtCz0LDRgtGMKVxyXG4gICAgICAgICAgICAgICAgc3R5bGVfY29udGVudDogY2hyaXN0bWFzX3N0eWxlX3ZrXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn0iLCIvKiBDaHJpc3RtYXMgbGlnaHRzICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENocmlzdG1hc0xpZ2h0cyB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5ncyA9IHt9KSB7XHJcbiAgICAgICAgLy8g0JrQu9Cw0YHRgdGLINC00LvRjyDRhtCy0LXRgtC+0LIg0YTQvtC90LDRgNC40LrQvtCyXHJcbiAgICAgICAgdGhpcy5jb2xvcl9jbGFzc2VzID0ge1xyXG4gICAgICAgICAgICByZWQ6ICdjaHJpc3RtYXMtaXRlbV9yZWQnLFxyXG4gICAgICAgICAgICB5ZWxsb3c6ICdjaHJpc3RtYXMtaXRlbV95ZWxsb3cnLFxyXG4gICAgICAgICAgICBncmVlbjogJ2NocmlzdG1hcy1pdGVtX2dyZWVuJyxcclxuICAgICAgICAgICAgYmx1ZTogJ2NocmlzdG1hcy1pdGVtX2JsdWUnXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8g0J7QsdGJ0LXQtSDQutC+0LvQuNGH0LXRgdGC0LLQviDRhNC+0L3QsNGA0LjQutC+0LJcclxuICAgICAgICB0aGlzLmFtb3VudCA9IHNldHRpbmdzLmFtb3VudCB8fCA0MDtcclxuICAgICAgICAvLyDQmtC+0LvQuNGH0LXRgdGC0LLQviDRhNC+0L3QsNGA0LjQutC+0LIg0LrQsNC20LTQvtCz0L4g0YbQstC10YLQsFxyXG4gICAgICAgIHRoaXMuY29sb3JfYW1vdW50ID0ge307XHJcbiAgICAgICAgLy8g0JzQsNC60YHQuNC80LDQu9GM0L3QvtC1INC+0YLQutC70L7QvdC10L3QuNC1INGE0L7QvdCw0YDQuNC60L7QsiDQvtGCINCx0LDQt9C+0LLQvtC5INC/0L7Qt9C40YbQuNC4XHJcbiAgICAgICAgdGhpcy5kZXZpYXRpb24gPSBzZXR0aW5ncy5kZXZpYXRpb24gfHwgMTBcclxuXHJcbiAgICAgICAgLy8g0KHQtdC70LXQutGC0L7RgCDQsdC70L7QutCwLCDQsiDQutC+0YLQvtGA0L7QvCDQsdGD0LTQtdGCINGB0L7Qt9C00LDQstCw0YLRjNGB0Y8g0LrQvtC90YLQtdC50L3QtdGAXHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNldHRpbmdzLnBhcmVudCkgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG4gICAgICAgIC8vINCf0LXRgNC10LzQtdC90L3QsNGPLCDRgdC+0LTQtdGA0LbQsNGJ0LDRjyDQsiDRgdC10LHQtSDRgtC10LrRgdGC0L7QstGL0Lkg0LrQvtC90YLQtdC90YIg0YHRgtC40LvQtdC5XHJcbiAgICAgICAgdGhpcy5zdHlsZV9jb250ZW50ID0gc2V0dGluZ3Muc3R5bGVfY29udGVudDtcclxuICAgICAgICAvLyDQmtC+0L3RgtC10LnQvdC10YAsINCyINC60L7RgtC+0YDQvtC8INCx0YPQtNGD0YIg0YHQvtC30LTQsNCy0LDRgtGM0YHRjyDRhNC+0L3QsNGA0LjQutC4XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAvLyDQoNCw0LfQvNC10YDRiyDQutC+0L3RgtC10LnQvdC10YDQsFxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyX3NpemUgPSB7XHJcbiAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgIHk6IDBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vINCc0LDRgdGB0LjQsiDRgdC+0LfQtNCw0L3QvdGL0YUg0Y3Qu9C10LzQtdC90YLQvtCyLdGE0L7QvdCw0YDQuNC60L7QslxyXG4gICAgICAgIHRoaXMuYnVmZmVyID0gW107XHJcbiAgICAgICAgLy8g0KTQu9Cw0LMg0L/QsNGD0LfRiyDQtNCy0LjQttC10L3QuNGPXHJcbiAgICAgICAgdGhpcy5wYXVzZV9ydW4gPSBmYWxzZTtcclxuICAgICAgICAvLyDQpNC70LDQsyDQt9Cw0L/Rg9GJ0LXQvdC90L7QuSDQsNC90LjQvNCw0YbQuNC4INC80LXRgNGG0LDQvdC40Y9cclxuICAgICAgICB0aGlzLmluaXRfYW5pbWF0aW9uID0gdHJ1ZTtcclxuICAgICAgICAvLyDQpNC70LDQsyDQv9C+0LrQsNC30LAg0YTQvtC90LDRgNC40LrQvtCyXHJcbiAgICAgICAgdGhpcy5zaG93ID0gdHJ1ZTtcclxuXHJcblxyXG4gICAgICAgIC8vINCi0L7Rh9C60LAg0LLRhdC+0LTQsFxyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCINGA0LDQvdC00L7QvNC90L7QtSDRh9C40YHQu9C+INCyINGD0LrQsNC30LDQvdC90YvRhSDQs9GA0LDQvdC40YbQsNGFXHJcbiAgICByYW5kKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgbGV0IHJhbmQgPSBNYXRoLmZsb29yKG1pbiArIE1hdGgucmFuZG9tKCkgKiAobWF4ICsgMSAtIG1pbikpO1xyXG4gICAgICAgIGlmIChyYW5kID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJhbmQrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJhbmQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JLRgdGC0LDQstC60LAg0YHRgtC40LvQtdC5INCy0L3Rg9GC0YDRjCDQutC+0L3RgtC10LnQvdC10YDQsFxyXG4gICAgc3R5bGVJbmplY3Qoc3R5bGVfY29udGVudCwgZWxlbSwgaWQpIHtcclxuICAgICAgICBjb25zdCBzdGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xyXG4gICAgICAgIHN0bC5pZCA9IGlkO1xyXG4gICAgICAgIHN0bC50ZXh0Q29udGVudCA9IHN0eWxlX2NvbnRlbnQ7XHJcbiAgICAgICAgZWxlbS5hcHBlbmRDaGlsZChzdGwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCj0YHRgtCw0L3QvtCy0LrQsCDQvdC+0LLQvtCz0L4g0LrQvtC70LjRh9C10YHRgtCy0LAg0YTQvtC90LDRgNC40LrQvtCyXHJcbiAgICBzZXRBbW91bnQobmV3X2Ftb3VudCkge1xyXG4gICAgICAgIG5ld19hbW91bnQgPSAobmV3X2Ftb3VudCA8IDApID8gMCA6IG5ld19hbW91bnQ7XHJcbiAgICAgICAgbmV3X2Ftb3VudCA9IChuZXdfYW1vdW50ID4gMTAwMCkgPyAxMDAwIDogbmV3X2Ftb3VudDtcclxuICAgICAgICB0aGlzLmFtb3VudCA9ICtuZXdfYW1vdW50O1xyXG4gICAgICAgIHRoaXMuY29tcHV0ZUFtb3VudCh0aGlzLmFtb3VudCk7XHJcblxyXG4gICAgICAgIHRoaXMuaXRlbXNSZW1vdmVyKCk7XHJcbiAgICAgICAgdGhpcy5pdGVtc1JlR2VuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JLQutC7L9Cy0YvQutC7INCw0L3QuNC80LDRhtC40Lgg0LzQtdGA0YbQsNC90LjRj1xyXG4gICAgdG9nZ2xlQW5pbWF0aW9uKGZsYWcpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGZsYWcgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRfYW5pbWF0aW9uID0gZmxhZztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRfYW5pbWF0aW9uID0gIXRoaXMuaW5pdF9hbmltYXRpb247XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pbml0X2FuaW1hdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci5mb3JFYWNoKChpdGVtKSA9PiB0aGlzLmluaXRBbmltYXRpb24oaXRlbSkpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuICdSdW4nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyLmZvckVhY2goKGl0ZW0pID0+IHRoaXMucmVtb3ZlQW5pbWF0aW9uKGl0ZW0pKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiAnUGF1c2UnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDQo9C00LDQu9C40YLRjCDQsNC90LjQvNCw0YbQuNGOINC80LXRgNGG0LDQvdC40Y9cclxuICAgIHJlbW92ZUFuaW1hdGlvbihpdGVtKSB7XHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IGl0ZW0uZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdjaHJpc3RtYXMtaXRlbS1hbmltJykpO1xyXG4gICAgICAgIHRoaXMuaW5pdF9hbmltYXRpb24gPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQlNC+0LHQsNCy0LjRgtGMINCw0L3QuNC80LDRhtC40Y4g0LzQtdGA0YbQsNC90LjRj1xyXG4gICAgaW5pdEFuaW1hdGlvbihpdGVtKSB7XHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IGl0ZW0uZWxlbS5jbGFzc0xpc3QuYWRkKCdjaHJpc3RtYXMtaXRlbS1hbmltJykpO1xyXG4gICAgICAgIHRoaXMuaW5pdF9hbmltYXRpb24gPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCf0LXRgNCy0YvQuSDQt9Cy0L/Rg9GB0Log0LTQstC40LbQtdC90LjRjyDQstGB0LXRhSDRhNC+0L3QsNGA0LjQutC+0LJcclxuICAgIGZpcnN0UnVuKCkge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaXRlbS54ID0gMDtcclxuICAgICAgICAgICAgICAgIGl0ZW0ueSA9IDA7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5ydW5JdGVtKGluZGV4KSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9LCAxMDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCX0LDQv9GD0YHQutCw0LXRgiDQtNCy0LjQttC10L3QuNC1INGE0L7QvdCw0YDQuNC60LBcclxuICAgIHJ1bkl0ZW0oaW5kZXgpIHtcclxuICAgICAgICBsZXQgaXRlbSA9IHRoaXMuYnVmZmVyW2luZGV4XTtcclxuXHJcbiAgICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgICAgbGV0IHggPSBpdGVtLnggKyB0aGlzLnJhbmQoLTQsIDQpO1xyXG4gICAgICAgICAgICBsZXQgeSA9IGl0ZW0ueSArIHRoaXMucmFuZCgtNCwgNCk7XHJcblxyXG4gICAgICAgICAgICB4ID0gKHggPCAoMCAtIHRoaXMuZGV2aWF0aW9uKSkgPyAwIDogKHggPiB0aGlzLmRldmlhdGlvbikgPyAwIDogeDtcclxuICAgICAgICAgICAgeSA9ICh5IDwgKDAgLSB0aGlzLmRldmlhdGlvbikpID8gMCA6ICh5ID4gdGhpcy5kZXZpYXRpb24pID8gMCA6IHk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltpbmRleF0ueCA9IHg7XHJcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW2luZGV4XS55ID0geTtcclxuXHJcbiAgICAgICAgICAgIGxldCB0cmFuc2Zvcm1fZHVyYXRpb24gPSB0aGlzLnJhbmQoMTUwMCwgMjUwMCk7XHJcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW2luZGV4XS5lbGVtLnN0eWxlLnRyYW5zaXRpb24gPSBgdHJhbnNmb3JtICR7dHJhbnNmb3JtX2R1cmF0aW9ufW1zIGVhc2UtaW4tb3V0LCB0b3AgJHt0cmFuc2Zvcm1fZHVyYXRpb259bXMgZWFzZS1pbi1vdXQsIGxlZnQgJHt0cmFuc2Zvcm1fZHVyYXRpb259bXMgZWFzZS1pbi1vdXRgO1xyXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltpbmRleF0uZWxlbS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoJHt4fXB4LCAke3l9cHgsIDFweClgO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDQnNC10YLQvtC0INC00LvRjyDQvtGB0YLQsNC90L7QstC60Lgv0LLQvtC30L7QsdC90L7QstC70LXQvdC40Y8g0LTQstC40LbQtdC90LjRjyDRhNC+0L3QsNGA0LjQutC+0LJcclxuICAgIHBhdXNlUnVuKGZsYWcpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGZsYWcgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgICB0aGlzLnBhdXNlX3J1biA9IGZsYWc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wYXVzZV9ydW4gPSAhdGhpcy5wYXVzZV9ydW47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMucGF1c2VfcnVuKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmlyc3RSdW4oKTtcclxuICAgICAgICAgICAgdGhpcy5wYXVzZV9ydW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiAnUnVuJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucGF1c2VfcnVuID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgcmV0dXJuICdQYXVzZSc7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y8g0LTQstC40LbQtdC90LjRjyDRhNC+0L3QsNGA0LjQutC+0LIg0Lgg0YHQu9GD0YjQsNGC0LXQu9GPINC10LPQviDQvtC60L7QvdGH0LDQvdC40Y9cclxuICAgIGluaXRSdW4oKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGUgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZS5wcm9wZXJ0eU5hbWUgPT09ICd0cmFuc2Zvcm0nICYmICF0aGlzLnBhdXNlX3J1bikge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZS5wcm9wZXJ0eU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ydW5JdGVtKE51bWJlcihlLnRhcmdldC5kYXRhc2V0LmNocmlzdG1hc0l0ZW0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCc0LXQvdGP0LXRgiDQv9C+0LvQvtC20LXQvdC40LUg0LLRgdC10YUg0YTQvtC90LDRgNC40LrQvtCyXHJcbiAgICB1cGRhdGVQb3NpdGlvbigpIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lcl9zaXplLnggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lcl9zaXplLnkgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5idWZmZXIuZm9yRWFjaChpdGVtID0+IHRoaXMuc2V0UG9zaXRpb24oaXRlbSkpXHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JfQsNC00LDQtdGCINC/0L7Qt9C40YbQuNGOINGE0L7QvdCw0YDQuNC60LBcclxuICAgIHNldFBvc2l0aW9uKGl0ZW0pIHtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICBpdGVtLmVsZW0uc3R5bGUudG9wID0gdGhpcy5yYW5kKDAgKyAxNSwgdGhpcy5jb250YWluZXJfc2l6ZS55IC0gMTUpICsgJ3B4JztcclxuICAgICAgICAgICAgaXRlbS5lbGVtLnN0eWxlLmxlZnQgPSB0aGlzLnJhbmQoMCArIDE1LCB0aGlzLmNvbnRhaW5lcl9zaXplLnggLSAxNSkgKyAncHgnO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JLRgdGC0LDQstC60LAg0YTQvtC90LDRgNC40LrQsCDQsiDQutC+0L3RgtC10LnQvdC10YBcclxuICAgIGFwcGVuZEl0ZW0oZWxlbSkge1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtKSlcclxuICAgIH1cclxuXHJcbiAgICAvLyDQk9C10L3QtdGA0LDRhtC40Y8g0YTQvtC90LDRgNC40LrQvtCyXHJcbiAgICBpdGVtc0dlbmVyYXRvcigpIHtcclxuICAgICAgICBsZXQgaXRlbV9pbmRleCA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgY29sb3IgaW4gdGhpcy5jb2xvcl9hbW91bnQpIHtcclxuICAgICAgICAgICAgbGV0IGFtb3VudCA9IHRoaXMuY29sb3JfYW1vdW50W2NvbG9yXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW1vdW50OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBpdGVtID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgeTogMFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGxldCBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2NocmlzdG1hcy1pdGVtJywgdGhpcy5jb2xvcl9jbGFzc2VzW2NvbG9yXSk7XHJcbiAgICAgICAgICAgICAgICBlbGVtLmRhdGFzZXQuY2hyaXN0bWFzSXRlbSA9IGl0ZW1faW5kZXg7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHRyYW5zZm9ybV9kdXJhdGlvbiA9IHRoaXMucmFuZCgxNTAwLCAyNTAwKTtcclxuICAgICAgICAgICAgICAgIGVsZW0uc3R5bGUudHJhbnNpdGlvbiA9IGB0cmFuc2Zvcm0gJHt0cmFuc2Zvcm1fZHVyYXRpb259bXMgZWFzZS1pbi1vdXQsIHRvcCAke3RyYW5zZm9ybV9kdXJhdGlvbn1tcyBlYXNlLWluLW91dCwgbGVmdCAke3RyYW5zZm9ybV9kdXJhdGlvbn1tcyBlYXNlLWluLW91dGA7XHJcblxyXG4gICAgICAgICAgICAgICAgaXRlbS5lbGVtID0gZWxlbTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24oaXRlbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXJbaXRlbV9pbmRleF0gPSBpdGVtO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRJdGVtKGVsZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGl0ZW1faW5kZXgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zaG93ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQo9C00LDQu9GP0LXRgiDQstGB0LUg0YTQvtC90LDRgNC40LrQuCDQuNC3INC60L7QvdGC0LXQudC90LXRgNCwXHJcbiAgICBpdGVtc1JlbW92ZXIoKSB7XHJcbiAgICAgICAgdGhpcy5idWZmZXIuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5jb250YWluZXIucmVtb3ZlQ2hpbGQoaXRlbS5lbGVtKSlcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLmJ1ZmZlciA9IFtdO1xyXG4gICAgICAgIHRoaXMuc2hvdyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCX0LDQvdC+0LLQviDQs9C10L3QtdGA0LjRgNGD0LXRgiDRhNC+0L3QsNGA0LjQutC4INC/0L7RgdC70LUg0YPQtNCw0LvQtdC90LjRj1xyXG4gICAgaXRlbXNSZUdlbigpIHtcclxuICAgICAgICBpZiAodGhpcy5zaG93ID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAvLyDQk9C10L3QtdGA0LjRgNGD0LXQvCDRhNC+0L3QsNGA0LjQutC4XHJcbiAgICAgICAgICAgIHRoaXMuaXRlbXNHZW5lcmF0b3IoKTtcclxuXHJcbiAgICAgICAgICAgIC8vINCYINC30LDQv9GD0YHQutCw0LXQvCDQv9C10YDQstC+0LUg0LTQstC40LbQtdC90LjQtVxyXG4gICAgICAgICAgICBpZiAoIXRoaXMucGF1c2VfcnVuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpcnN0UnVuKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vINCX0LDQv9GD0YHQutCw0LXQvCDQsNC90LjQvNCw0YbQuNGOINC80LXRgNGG0LDQvdC40Y9cclxuICAgICAgICAgICAgaWYgKHRoaXMuaW5pdF9hbmltYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQW5pbWF0aW9uKHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gJ0dlbmVyYXRlJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLml0ZW1zUmVtb3ZlcigpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuICdSZW1vdmUnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDQoNCw0YHRh9C10YIg0YDQsNC30LzQtdGA0L7QsiDQutC+0L3RgtC10LnQvdC10YDQsFxyXG4gICAgY29tcHV0ZUNvbnRhaW5lclNpemUoKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJfc2l6ZS54ID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJfc2l6ZS55ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINC60L7QvdGC0LXQudC90LXRgNCwXHJcbiAgICBpbml0Q29udGFpbmVyKCkge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlkID0gJ2NocmlzdG1hcy1jb250YWluZXInO1xyXG4gICAgICAgIHRoaXMuc3R5bGVJbmplY3QodGhpcy5zdHlsZV9jb250ZW50LCB0aGlzLmNvbnRhaW5lciwgJ2NocmlzdG1hcy1zdHlsZScpO1xyXG4gICAgICAgIHRoaXMucGFyZW50LmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQoNCw0YHRh9C10YIg0LrQvtC70LjRh9C10YHRgtCy0LAg0YTQvtC90LDRgNC40LrQvtCyINC60LDQttC00L7Qs9C+INGG0LLQtdGC0LBcclxuICAgIGNvbXB1dGVBbW91bnQoYW1vdW50KSB7XHJcbiAgICAgICAgdGhpcy5jb2xvcl9hbW91bnQgPSB7XHJcbiAgICAgICAgICAgIHJlZDogTWF0aC5mbG9vcihhbW91bnQgLyA0KSxcclxuICAgICAgICAgICAgeWVsbG93OiBNYXRoLmZsb29yKGFtb3VudCAvIDQpLFxyXG4gICAgICAgICAgICBncmVlbjogTWF0aC5mbG9vcihhbW91bnQgLyA0KSxcclxuICAgICAgICAgICAgYmx1ZTogYW1vdW50IC0gKE1hdGguZmxvb3IoYW1vdW50IC8gNCkgKiAzKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuY29tcHV0ZUFtb3VudCh0aGlzLmFtb3VudCk7XHJcblxyXG4gICAgICAgIHRoaXMuY29tcHV0ZUNvbnRhaW5lclNpemUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0Q29udGFpbmVyKCk7XHJcblxyXG4gICAgICAgIC8vINCT0LXQvdC10YDQuNGA0YPQtdC8INGE0L7QvdCw0YDQuNC60LhcclxuICAgICAgICBpZiAodGhpcy5zaG93KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXRlbXNHZW5lcmF0b3IoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vINCf0L7RgdC70LUg0LPQtdC90LXRgNCw0YbQuNC4INCy0YHQtdGFINGE0L7QvdCw0YDQuNC60L7QsiDQstC10YjQsNC10Lwg0L3QsCDQutC+0L3RgtC10LnQvdC10YAg0YHQu9GD0YjQsNGC0LXQu9GMIHRyYW5zaXRpb25lbmRcclxuICAgICAgICB0aGlzLmluaXRSdW4oKTtcclxuXHJcbiAgICAgICAgLy8g0Jgg0LfQsNC/0YPRgdC60LDQtdC8INC/0LXRgNCy0L7QtSDQtNCy0LjQttC10L3QuNC1XHJcbiAgICAgICAgaWYgKCF0aGlzLnBhdXNlX3J1bikge1xyXG4gICAgICAgICAgICB0aGlzLmZpcnN0UnVuKCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy8g0JfQsNC/0YPRgdC60LDQtdC8INCw0L3QuNC80LDRhtC40Y4g0LzQtdGA0YbQsNC90LjRj1xyXG4gICAgICAgIGlmICh0aGlzLmluaXRfYW5pbWF0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlQW5pbWF0aW9uKHRydWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0iLCIvLyDQodGC0LjQu9C4INC00LvRjyDQvtGB0L3QvtCy0L3QvtCz0L4g0YHQutGA0LjQv9GC0LBcclxuZXhwb3J0IGNvbnN0IGNocmlzdG1hc19zdHlsZSA9IGBcclxuYm9keSB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIG1pbi13aWR0aDogMTAwJTtcclxuICBtaW4taGVpZ2h0OiAxMDB2aDtcclxuICBtYXJnaW46IDA7XHJcbn1cclxuXHJcbiNjaHJpc3RtYXMtY29udGFpbmVyIHtcclxuICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgdG9wOiAwO1xyXG4gIGxlZnQ6IDA7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIHotaW5kZXg6IC05OTk5O1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcbi5jaHJpc3RtYXMtaXRlbSB7XHJcbiAgd2lkdGg6IDEwcHg7XHJcbiAgaGVpZ2h0OiAxMHB4O1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB3aWxsLWNoYW5nZTogdHJhbnNmb3JtLCBvcGFjaXR5O1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxufVxyXG5cclxuLmNocmlzdG1hcy1pdGVtX3JlZCB7XHJcblxyXG59XHJcblxyXG4uY2hyaXN0bWFzLWl0ZW1feWVsbG93IHtcclxuXHJcbn1cclxuXHJcbi5jaHJpc3RtYXMtaXRlbV9ncmVlbiB7XHJcblxyXG59XHJcblxyXG4uY2hyaXN0bWFzLWl0ZW1fYmx1ZSB7XHJcblxyXG59XHJcblxyXG4uY2hyaXN0bWFzLWl0ZW06YmVmb3JlIHtcclxuICBjb250ZW50OiAnJztcclxuICBkaXNwbGF5OiBibG9jaztcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gIHdpZHRoOiA4cHg7XHJcbiAgaGVpZ2h0OiA4cHg7XHJcbiAgdG9wOiA1MCU7XHJcbiAgbGVmdDogNTAlO1xyXG4gIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm0sIG9wYWNpdHk7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtNTAlLCAtNTAlLCAxcHgpIHNjYWxlKDApO1xyXG59XHJcblxyXG4uY2hyaXN0bWFzLWl0ZW06YWZ0ZXIge1xyXG4gIGNvbnRlbnQ6ICcnO1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgd2lkdGg6IDEwcHg7XHJcbiAgaGVpZ2h0OiAxMHB4O1xyXG4gIHRvcDogNTAlO1xyXG4gIGxlZnQ6IDUwJTtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIC01MCUsIDFweCk7XHJcbn1cclxuXHJcbi5jaHJpc3RtYXMtaXRlbV9yZWQ6YmVmb3JlIHtcclxuICAvKiAjRkEwQzAwICovXHJcbiAgYm94LXNoYWRvdzogMCAwIDIwcHggNnB4IHJnYmEoMjUwLCAxMiwgMCwgMSk7XHJcbiAgYW5pbWF0aW9uLWRlbGF5OiAwcztcclxufVxyXG5cclxuLmNocmlzdG1hcy1pdGVtX3JlZDphZnRlciB7XHJcbiAgYmFja2dyb3VuZDogI0YzMjYxMztcclxufVxyXG5cclxuLmNocmlzdG1hcy1pdGVtX3llbGxvdzpiZWZvcmUge1xyXG4gIC8qICNGQUYyMDAgKi9cclxuICBib3gtc2hhZG93OiAwIDAgMjBweCA2cHggcmdiYSgyNTAsIDI0MiwgMCwgLjgpO1xyXG4gIGFuaW1hdGlvbi1kZWxheTogLjVzO1xyXG59XHJcblxyXG4uY2hyaXN0bWFzLWl0ZW1feWVsbG93OmFmdGVyIHtcclxuICBiYWNrZ3JvdW5kOiAjRjBGMzQzO1xyXG59XHJcblxyXG4uY2hyaXN0bWFzLWl0ZW1fZ3JlZW46YmVmb3JlIHtcclxuICAvKiAjMkFGQTAwICovXHJcbiAgYm94LXNoYWRvdzogMCAwIDIwcHggNnB4IHJnYmEoNDIsIDI1MCwgMCwgLjgpO1xyXG4gIGFuaW1hdGlvbi1kZWxheTogMXM7XHJcbn1cclxuXHJcbi5jaHJpc3RtYXMtaXRlbV9ncmVlbjphZnRlciB7XHJcbiAgYmFja2dyb3VuZDogIzYxRjM1MTtcclxufVxyXG5cclxuLmNocmlzdG1hcy1pdGVtX2JsdWU6YmVmb3JlIHtcclxuICAvKiAjMjNGRkY0ICovXHJcbiAgYm94LXNoYWRvdzogMCAwIDIwcHggOHB4IHJnYmEoMzUsIDI1NSwgMjQ0LCAuNik7XHJcbiAgYW5pbWF0aW9uLWRlbGF5OiAxLjVzO1xyXG59XHJcblxyXG4uY2hyaXN0bWFzLWl0ZW1fYmx1ZTphZnRlciB7XHJcbiAgYmFja2dyb3VuZDogIzg5ZjNlZjtcclxufVxyXG5cclxuLmNocmlzdG1hcy1pdGVtLWFuaW06YmVmb3JlIHtcclxuICBhbmltYXRpb24tbmFtZTogY2hyaXN0bWFzLWl0ZW0tYW5pbTtcclxuICBhbmltYXRpb24tZHVyYXRpb246IDEuN3M7XHJcbiAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogbGluZWFyO1xyXG4gIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IGluZmluaXRlO1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIGNocmlzdG1hcy1pdGVtLWFuaW0ge1xyXG4gIDAlIHtcclxuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtNTAlLCAtNTAlLCAxcHgpIHNjYWxlKC42KTtcclxuICAgICAgb3BhY2l0eTogLjc7XHJcbiAgfVxyXG4gIDUwJSB7XHJcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTUwJSwgLTUwJSwgMXB4KSBzY2FsZSguOSk7XHJcbiAgICAgIG9wYWNpdHk6IDE7XHJcbiAgfVxyXG4gIDEwMCUge1xyXG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIC01MCUsIDFweCkgc2NhbGUoLjYpO1xyXG4gICAgICBvcGFjaXR5OiAuNztcclxuICB9XHJcbn1cclxuYDtcclxuXHJcbi8vINCh0YLQuNC70Lgg0LTQu9GPINC30LDQv9GD0YHQutCwINC90LAg0YHRgtGA0LDQvdC40YbQtSDQktCaXHJcbmNvbnN0IF9zdHlsZV92ayA9IGBcclxuLmNocmlzdG1hcy1jb250cm9scyB7XHJcbiAgd2lkdGg6IGF1dG87XHJcbiAgbWluLXdpZHRoOiAzNnB4O1xyXG4gIGZsb2F0OiBsZWZ0O1xyXG4gIHBhZGRpbmc6IDAgNXB4ICFpbXBvcnRhbnQ7XHJcbiAgaGVpZ2h0OiA0MnB4O1xyXG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuLmNocmlzdG1hc19jb250cm9scyAudWlfcm1lbnVfaXRlbV9zZWw6bm90KDpob3Zlcikge1xyXG4gIGJvcmRlci1sZWZ0OiAycHggc29saWQgdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uY2hyaXN0bWFzX2NvbnRyb2xzIC5jdXJfZGVmYXVsdCB7XHJcbiAgY3Vyc29yOiBkZWZhdWx0ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5jaHJpc3RtYXMtY29udHJvbHMgLmNocmlzdG1hc19jb250cm9scyB7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2M1ZDBkYjtcclxuICBiYWNrZ3JvdW5kOiAjZmZmO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBvcGFjaXR5OiAxO1xyXG4gIGxlZnQ6IDBweDtcclxuICBwb2ludGVyLWV2ZW50czogYXV0bztcclxuICBib3gtc2hhZG93OiAwIDAgN3B4IDBweCByZ2JhKDAsIDAsIDAsIDAuMykgIWltcG9ydGFudDtcclxuICB1c2VyLXNlbGVjdDogbm9uZTtcclxuXHJcbiAgb3BhY2l0eTogMDtcclxuICBib3R0b206IDA7XHJcbiAgei1pbmRleDogLTk5O1xyXG4gIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAxcHgpO1xyXG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuM3MgLjNzIGVhc2UtaW4tb3V0LCBvcGFjaXR5IC4ycyAuM3MgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmNocmlzdG1hcy1jb250cm9sczpob3ZlciAuY2hyaXN0bWFzX2NvbnRyb2xzIHtcclxuICB6LWluZGV4OiAxO1xyXG5cclxuICBvcGFjaXR5OiAxO1xyXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMTAwJSwgMXB4KTtcclxuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjNzIC4zcyBlYXNlLWluLW91dCwgb3BhY2l0eSAuMnMgLjNzLCB6LWluZGV4IC4xcyAuM3MgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmNocmlzdG1hc19jb250cm9scyAuY2hyaXN0bWFzX2NvbnRyb2xzX2NvbnRlbnQge1xyXG4gIHBhZGRpbmctdG9wOiAwO1xyXG4gIHBhZGRpbmctYm90dG9tOiAwO1xyXG4gIG1pbi13aWR0aDogMjM1cHg7XHJcbiAgbWF4LWhlaWdodDogaW5oZXJpdDtcclxuICBtYXgtd2lkdGg6IDMwMHB4O1xyXG4gIG92ZXJmbG93OiB2aXNpYmxlICFpbXBvcnRhbnQ7XHJcbiAgd2lkdGg6IGF1dG8haW1wb3J0YW50O1xyXG59XHJcbi5jaHJpc3RtYXNfY29udHJvbHNfY29udGVudCAuY29udGVudCB7XHJcbiAgbWFyZ2luLWJvdHRvbTogLTFweDtcclxufVxyXG4uY2hyaXN0bWFzX2NvbnRyb2xzX2NvbnRlbnQgLmxpbmVfY2VsbCB7XHJcbiAgcGFkZGluZzogMCAxNXB4O1xyXG4gIGhlaWdodDogNDhweDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG4ubGluZV9jZWxsIC5vcHRpb25fbmFtZSB7XHJcbiAgZmxleC1ncm93OiAxO1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufVxyXG4uY2hyaXN0bWFzX2NvbnRyb2xzX2NvbnRlbnQgLmxpbmVfY2VsbDpob3ZlcixcclxuLmNocmlzdG1hc19jb250cm9sc19jb250ZW50IC5saW5lX2NlbGwuc2VsZWN0ZWQge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlNGVhZjA7XHJcbn1cclxuXHJcbi50dF9kZWZhdWx0LnR0X3VwOmJlZm9yZSB7XHJcbiAgYm9yZGVyLXdpZHRoOiA2cHg7XHJcbiAgbWFyZ2luOiAwIC02cHg7XHJcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogI2M1ZDBkYjtcclxufVxyXG4udHRfZGVmYXVsdC50dF91cDphZnRlciB7XHJcbiAgYm9yZGVyLXdpZHRoOiA1cHg7XHJcbiAgbWFyZ2luOiAwIC01cHg7XHJcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogI2ZmZjtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAuNXB4LCAwKTtcclxufVxyXG4uY2hyaXN0bWFzX2NvbnRyb2xzLnR0X2RlZmF1bHQudHRfdXA6YWZ0ZXIsIFxyXG4uY2hyaXN0bWFzX2NvbnRyb2xzLnR0X2RlZmF1bHQudHRfdXA6YmVmb3JlIHtcclxuICBsZWZ0OiAyNHB4O1xyXG59XHJcbi50dF93LnR0X3VwOmFmdGVyLCAudHRfdy50dF91cDpiZWZvcmUge1xyXG4gIGJvdHRvbTogMTAwJTtcclxufVxyXG4udHRfdzphZnRlciwgLnR0X3c6YmVmb3JlIHtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgYm9yZGVyOiBzb2xpZCB0cmFuc3BhcmVudDtcclxuICBjb250ZW50OiAnJztcclxuICBoZWlnaHQ6IDA7XHJcbiAgd2lkdGg6IDA7XHJcbn1cclxuXHJcbi5jaHJpc3RtYXNfY29udHJvbHMgaW5wdXQudGV4dC50c19pbnB1dCB7XHJcbiAgcGFkZGluZzogNnB4IDZweCA2cHggNnB4O1xyXG4gIGJhY2tncm91bmQtaW1hZ2U6IG5vbmUgIWltcG9ydGFudDtcclxuICB3aWR0aDogNTBweDtcclxuICBtYXJnaW46IDAgMCAwIDEwcHg7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2M1ZDBkYjtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi8qINCQ0L3QuNC80LDRhtC40Y8gXCLQutC90L7Qv9C60Lgg0L3QsNGB0YLRgNC+0LXQulwiICovXHJcbi5jb250cm9sc19saWdodCB7XHJcbiAgd2lkdGg6IDEycHg7XHJcbiAgaGVpZ2h0OiAxMnB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuLmNvbnRyb2xzX2xpZ2h0OmJlZm9yZSB7XHJcbiAgYW5pbWF0aW9uLW5hbWU6IGNocmlzdG1hcy1pdGVtLWFuaW0sIGNvbnRyb2xzX2xpZ2h0X3NoYWRvdztcclxuICBhbmltYXRpb24tZHVyYXRpb246IDEuN3MsIDguNXM7XHJcbiAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogbGluZWFyO1xyXG4gIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IGluZmluaXRlO1xyXG59XHJcbi5jb250cm9sc19saWdodDphZnRlciB7XHJcbiAgYW5pbWF0aW9uLW5hbWU6IGNvbnRyb2xzX2xpZ2h0X2JhY2tncm91bmQ7XHJcbiAgYW5pbWF0aW9uLWR1cmF0aW9uOiA4LjVzO1xyXG4gIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGxpbmVhcjtcclxuICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiBpbmZpbml0ZTtcclxufVxyXG4uY29udHJvbHNfbGlnaHQ6YmVmb3JlIHtcclxuICBjb250ZW50OiAnJztcclxuICBkaXNwbGF5OiBibG9jaztcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gIHdpZHRoOiA4cHg7XHJcbiAgaGVpZ2h0OiA4cHg7XHJcbiAgdG9wOiA1MCU7XHJcbiAgbGVmdDogNTAlO1xyXG4gIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm0sIG9wYWNpdHk7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtNTAlLCAtNTAlLCAxcHgpIHNjYWxlKDApO1xyXG59XHJcbi5jb250cm9sc19saWdodDphZnRlciB7XHJcbiAgY29udGVudDogJyc7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICB3aWR0aDogMTBweDtcclxuICBoZWlnaHQ6IDEwcHg7XHJcbiAgdG9wOiA1MCU7XHJcbiAgbGVmdDogNTAlO1xyXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTUwJSwgLTUwJSwgMXB4KTtcclxufVxyXG5Aa2V5ZnJhbWVzIGNvbnRyb2xzX2xpZ2h0X2JhY2tncm91bmQge1xyXG4gIDAlIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjUwLCAxMiwgMCwgMSk7XHJcbiAgfVxyXG4gIDI1JSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1MCwgMjQyLCAwLCAuOCk7XHJcbiAgfVxyXG4gIDUwJSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDQyLCAyNTAsIDAsIC44KTtcclxuICB9XHJcbiAgNzUlIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMzUsIDI1NSwgMjQ0LCAuNik7XHJcbiAgfVxyXG4gIDEwMCUge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTAsIDEyLCAwLCAxKTtcclxuICB9XHJcbn1cclxuQGtleWZyYW1lcyBjb250cm9sc19saWdodF9zaGFkb3cge1xyXG4gIDAlIHtcclxuICAgIGJveC1zaGFkb3c6IDAgMCAyMHB4IDZweCByZ2JhKDI1MCwgMTIsIDAsIDEpO1xyXG4gIH1cclxuICAyNSUge1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDIwcHggNnB4IHJnYmEoMjUwLCAyNDIsIDAsIC44KTtcclxuICB9XHJcbiAgNTAlIHtcclxuICAgIGJveC1zaGFkb3c6IDAgMCAyMHB4IDZweCByZ2JhKDQyLCAyNTAsIDAsIC44KTtcclxuICB9XHJcbiAgNzUlIHtcclxuICAgIGJveC1zaGFkb3c6IDAgMCAyMHB4IDhweCByZ2JhKDM1LCAyNTUsIDI0NCwgLjYpO1xyXG4gIH1cclxuICAxMDAlIHtcclxuICAgIGJveC1zaGFkb3c6IDAgMCAyMHB4IDZweCByZ2JhKDI1MCwgMTIsIDAsIDEpO1xyXG4gIH1cclxufVxyXG5gO1xyXG5leHBvcnQgY29uc3QgY2hyaXN0bWFzX3N0eWxlX3ZrID0gY2hyaXN0bWFzX3N0eWxlICsgX3N0eWxlX3ZrO1xyXG5cclxuLy8g0KHRgtC40LvQuCDQtNC70Y8g0LfQsNC/0YPRgdC60LAg0L3QsCDQv9GA0L7RgdGC0L7QuSDRgdGC0YDQsNC90LjRhtC1XHJcbmNvbnN0IF9zdHlsZV9wYWdlID0gYFxyXG5ib2R5IHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMzcsIDQ4LCA2MCk7XHJcbn1cclxuXHJcbi50ZXN0IHtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDUwdmg7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG4uYnRuX3VwZGF0ZSB7XHJcbiAgcG9zaXRpb246IGZpeGVkO1xyXG4gIHRvcDogMDtcclxuICBsZWZ0OiAwO1xyXG4gIGNvbG9yOiAjZmZjMDAwO1xyXG4gIHBhZGRpbmc6IDE1cHggMTBweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjZmZjMDAwO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMzcsIDQ4LCA2MCwgLjcpO1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgei1pbmRleDogOTk7XHJcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbn1cclxuYDtcclxuZXhwb3J0IGNvbnN0IGNocmlzdG1hc19zdHlsZV9wYWdlID0gY2hyaXN0bWFzX3N0eWxlICsgX3N0eWxlX3BhZ2U7IiwiLy8g0JjQvNC/0L7RgNGCINCz0LvQsNCy0L3QvtCz0L4g0LrQu9Cw0YHRgdCwXHJcbmltcG9ydCBDaHJpc3RtYXNMaWdodHMgZnJvbSAnLi9jaHJpc3RtYXNfbWFpbic7XHJcblxyXG4vLyDQmtC70LDRgdGBINC00LvRjyDRgNCw0LHQvtGC0Ysg0L3QsCDRgdGC0YDQsNC90LjRhtC1INCS0JpcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hyaXN0bWFzTGlnaHRzVksgZXh0ZW5kcyBDaHJpc3RtYXNMaWdodHMge1xyXG4gICAgY29uc3RydWN0b3IocGFyYW0pIHtcclxuICAgICAgICBzdXBlcihwYXJhbSk7XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyDQktGL0LfRi9Cy0LDQtdGCINC/0LDRg9C30YMg0LTQstC40LbQtdC90LjRjyDQuCDQvNC10L3Rj9C10YIg0YLQtdC60YHRgiDQsiDQutC90L7Qv9C60LUg0L7RgtC60LvRjtGH0LXQvdC40Y8g0LTQstC40LbQtdC90LjRj1xyXG4gICAgcGF1c2VSdW5IYW5kbGVyKGUpIHtcclxuICAgICAgICBsZXQgcmVzID0gdGhpcy5wYXVzZVJ1bigpO1xyXG4gICAgICAgIGxldCBvcHRpb25fbmFtZSA9IGUuY3VycmVudFRhcmdldC5xdWVyeVNlbGVjdG9yKCcub3B0aW9uX25hbWUnKTtcclxuXHJcbiAgICAgICAgaWYgKHJlcyA9PT0gJ1BhdXNlJykge1xyXG4gICAgICAgICAgICBvcHRpb25fbmFtZS50ZXh0Q29udGVudCA9ICfQktC60LvRjtGH0LjRgtGMINC00LLQuNC20LXQvdC40LUnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocmVzID09PSAnUnVuJykge1xyXG4gICAgICAgICAgICBvcHRpb25fbmFtZS50ZXh0Q29udGVudCA9ICfQntGC0LrQu9GO0YfQuNGC0Ywg0LTQstC40LbQtdC90LjQtSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLlN0b3JhZ2Uuc2V0KCdwYXVzZV9ydW4nLCB0aGlzLnBhdXNlX3J1bik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JLRi9C30YvQstCw0LXRgiDQv9Cw0YPQt9GDINCw0L3QuNC80LDRhtC40Lgg0Lgg0LzQtdC90Y/QtdGCINGC0LXQutGB0YIg0LIg0LrQvdC+0L/QutC1XHJcbiAgICB0b2dnbGVBbmltYXRpb25IYW5kbGVyKGUpIHtcclxuICAgICAgICBsZXQgcmVzID0gdGhpcy50b2dnbGVBbmltYXRpb24oKTtcclxuICAgICAgICBsZXQgb3B0aW9uX25hbWUgPSBlLmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvcignLm9wdGlvbl9uYW1lJyk7XHJcblxyXG4gICAgICAgIGlmIChyZXMgPT09ICdQYXVzZScpIHtcclxuICAgICAgICAgICAgb3B0aW9uX25hbWUudGV4dENvbnRlbnQgPSAn0JLQutC70Y7Rh9C40YLRjCDQvNC10YDRhtCw0L3QuNC1JztcclxuICAgICAgICB9IGVsc2UgaWYgKHJlcyA9PT0gJ1J1bicpIHtcclxuICAgICAgICAgICAgb3B0aW9uX25hbWUudGV4dENvbnRlbnQgPSAn0J7RgtC60LvRjtGH0LjRgtGMINC80LXRgNGG0LDQvdC40LUnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5TdG9yYWdlLnNldCgnaW5pdF9hbmltYXRpb24nLCB0aGlzLmluaXRfYW5pbWF0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQktGL0LfRi9Cy0LDQtdGCINGD0LTQsNC70LXQvdC40LUv0LPQtdC90LXRgNCw0YbQuNGOINGE0L7QvdCw0YDQuNC60L7QsiDQuCDQvNC10L3Rj9C10YIg0YLQtdC60YHRgiDQsiDQutC90L7Qv9C60LVcclxuICAgIGl0ZW1zUmVHZW5IYW5kbGVyKGUpIHtcclxuICAgICAgICBsZXQgcmVzID0gdGhpcy5pdGVtc1JlR2VuKCk7XHJcbiAgICAgICAgbGV0IG9wdGlvbl9uYW1lID0gZS5jdXJyZW50VGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJy5vcHRpb25fbmFtZScpO1xyXG5cclxuICAgICAgICBpZiAocmVzID09PSAnUmVtb3ZlJykge1xyXG4gICAgICAgICAgICBvcHRpb25fbmFtZS50ZXh0Q29udGVudCA9ICfQn9C+0LrQsNC30LDRgtGMINGE0L7QvdCw0YDQuNC60LgnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocmVzID09PSAnR2VuZXJhdGUnKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbl9uYW1lLnRleHRDb250ZW50ID0gJ9Cj0LHRgNCw0YLRjCDRhNC+0L3QsNGA0LjQutC4JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuU3RvcmFnZS5zZXQoJ3Nob3cnLCB0aGlzLnNob3cpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEFtb3VudEhhbmRsZXIoKSB7XHJcbiAgICAgICAgbGV0IG5ld19hbW91bnQgPSB0aGlzLl9zZXRfYW1vdW50LnZhbHVlO1xyXG4gICAgICAgIHRoaXMuc2V0QW1vdW50KG5ld19hbW91bnQpO1xyXG5cclxuICAgICAgICB0aGlzLlN0b3JhZ2Uuc2V0KCdhbW91bnQnLCB0aGlzLmFtb3VudCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQW1vdW50SW5wdXQoYW1vdW50KSB7XHJcbiAgICAgICAgdGhpcy5fc2V0X2Ftb3VudC52YWx1ZSA9IGFtb3VudDtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQn9C+0LvRg9GH0LDQtdGCINGN0LvQtdC80LXQvdGC0Ysg0YPQv9GA0LDQstC70LXQvdC40Y9cclxuICAgIGdldENvbnRyb2xzRWxlbShlbGVtKSB7XHJcbiAgICAgICAgLy8g0JjQvdC/0YPRgiDRgSDQutC+0LvQuNGH0LXRgdGC0LLQvtC8INGE0L7QvdCw0YDQuNC60L7QslxyXG4gICAgICAgIHRoaXMuX3NldF9hbW91bnQgPSBlbGVtLnF1ZXJ5U2VsZWN0b3IoJy5fc2V0X2Ftb3VudCBpbnB1dCcpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlQW1vdW50SW5wdXQodGhpcy5hbW91bnQpO1xyXG4gICAgICAgIC8vINCa0L3QvtC/0LrQsCDRgdC80LXQvdGLINC/0L7Qt9C40YbQuNC4XHJcbiAgICAgICAgdGhpcy5fY2hhbmdlX3BvcyA9IGVsZW0ucXVlcnlTZWxlY3RvcignLl9jaGFuZ2VfcG9zJyk7XHJcblxyXG4gICAgICAgIC8vINCa0L3QvtC/0LrQsCDQtNCy0LjQttC10L3QuNGPXHJcbiAgICAgICAgdGhpcy5fcGF1c2VfcnVuID0gZWxlbS5xdWVyeVNlbGVjdG9yKCcuX3BhdXNlX3J1bicpO1xyXG4gICAgICAgIGxldCBfcGF1c2VfcnVuX3RleHQgPSB0aGlzLl9wYXVzZV9ydW4ucXVlcnlTZWxlY3RvcignLm9wdGlvbl9uYW1lJyk7XHJcbiAgICAgICAgX3BhdXNlX3J1bl90ZXh0LnRleHRDb250ZW50ID0gKHRoaXMucGF1c2VfcnVuKSA/ICfQktC60LvRjtGH0LjRgtGMINC00LLQuNC20LXQvdC40LUnIDogJ9Ce0YLQutC70Y7Rh9C40YLRjCDQtNCy0LjQttC10L3QuNC1JztcclxuXHJcbiAgICAgICAgLy8g0JrQvdC+0L/QutCwINCw0L3QuNC80LDRhtC40LhcclxuICAgICAgICB0aGlzLl9hbmltX3RvZ2dsZSA9IGVsZW0ucXVlcnlTZWxlY3RvcignLl9hbmltX3RvZ2dsZScpO1xyXG4gICAgICAgIGxldCBfYW5pbV90b2dnbGVfdGV4dCA9IHRoaXMuX2FuaW1fdG9nZ2xlLnF1ZXJ5U2VsZWN0b3IoJy5vcHRpb25fbmFtZScpO1xyXG4gICAgICAgIF9hbmltX3RvZ2dsZV90ZXh0LnRleHRDb250ZW50ID0gKHRoaXMuaW5pdF9hbmltYXRpb24pID8gJ9Ce0YLQutC70Y7Rh9C40YLRjCDQvNC10YDRhtCw0L3QuNC1JyA6ICfQktC60LvRjtGH0LjRgtGMINC80LXRgNGG0LDQvdC40LUnO1xyXG5cclxuICAgICAgICAvLyDQmtC90L7Qv9C60LAg0KPQsdGA0LDRgtGML9Cf0L7QutCw0LfQsNGC0Ywg0YTQvtC90LDRgNC40LrQuFxyXG4gICAgICAgIHRoaXMuX2l0ZW1zX3JlX2dlbiA9IGVsZW0ucXVlcnlTZWxlY3RvcignLl9pdGVtc19yZV9nZW4nKTtcclxuICAgICAgICBsZXQgX2l0ZW1zX3JlX2dlbl90ZXh0ID0gdGhpcy5faXRlbXNfcmVfZ2VuLnF1ZXJ5U2VsZWN0b3IoJy5vcHRpb25fbmFtZScpO1xyXG4gICAgICAgIF9pdGVtc19yZV9nZW5fdGV4dC50ZXh0Q29udGVudCA9ICh0aGlzLnNob3cpID8gJ9Cj0LHRgNCw0YLRjCDRhNC+0L3QsNGA0LjQutC4JyA6ICfQn9C+0LrQsNC30LDRgtGMINGE0L7QvdCw0YDQuNC60LgnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCS0LXRiNCw0LXRgiDQvtCx0YDQsNCx0L7RgtGH0LjQutC4INGB0L7QsdGL0YLQuNC5INC90LAg0Y3Qu9C10LzQtdC90YLRiyDRg9C/0YDQsNCy0LvQtdC90LjRj1xyXG4gICAgaW5pdENvbnRyb2xzSGFuZGxlcnMoKSB7XHJcbiAgICAgICAgLy8g0JjQvdC/0YPRgiDRgSDQutC+0LvQuNGH0LXRgdGC0LLQvtC8INGE0L7QvdCw0YDQuNC60L7QslxyXG4gICAgICAgIHRoaXMuX3NldF9hbW91bnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLnNldEFtb3VudEhhbmRsZXIuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgLy8g0JrQvdC+0L/QutCwINGB0LzQtdC90Ysg0L/QvtC30LjRhtC40LhcclxuICAgICAgICB0aGlzLl9jaGFuZ2VfcG9zLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy51cGRhdGVQb3NpdGlvbi5iaW5kKHRoaXMpKTtcclxuICAgICAgICAvLyDQmtC90L7Qv9C60LAg0LTQstC40LbQtdC90LjRj1xyXG4gICAgICAgIHRoaXMuX3BhdXNlX3J1bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucGF1c2VSdW5IYW5kbGVyLmJpbmQodGhpcykpO1xyXG4gICAgICAgIC8vINCa0L3QvtC/0LrQsCDQsNC90LjQvNCw0YbQuNC4XHJcbiAgICAgICAgdGhpcy5fYW5pbV90b2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRvZ2dsZUFuaW1hdGlvbkhhbmRsZXIuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgLy8g0JrQvdC+0L/QutCwINCj0LHRgNCw0YLRjC/Qn9C+0LrQsNC30LDRgtGMINGE0L7QvdCw0YDQuNC60LhcclxuICAgICAgICB0aGlzLl9pdGVtc19yZV9nZW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLml0ZW1zUmVHZW5IYW5kbGVyLmJpbmQodGhpcykpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyDQktC+0LfQstGA0LDRidCw0LXRgiDRiNCw0LHQu9C+0L0g0LHQu9C+0LrQsCDRg9C/0YDQsNCy0LvQtdC90LjRj1xyXG4gICAgZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIGBcclxuPGRpdiBjbGFzcz1cInR0X3cgdHRfZGVmYXVsdCB0dF91cCBjaHJpc3RtYXNfY29udHJvbHNcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJ3cmFwcGVkXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm5vdGlmeV9zb3VyY2VzX3R0X2NvbnRlbnQgY2hyaXN0bWFzX2NvbnRyb2xzX2NvbnRlbnRcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGluZV9jZWxsIGNsZWFyX2ZpeCB1aV9ybWVudV9pdGVtX3NlbCBjdXJfZGVmYXVsdCBfc2V0X2Ftb3VudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb25fbmFtZSBjdXJfZGVmYXVsdFwiPtCa0L7Qu9C40YfQtdGB0YLQstC+INGE0L7QvdCw0YDQuNC60L7QsjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cInRleHQgdHNfaW5wdXRcIj48L2lucHV0PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxpbmVfY2VsbCBjbGVhcl9maXggdWlfcm1lbnVfaXRlbV9zZWwgX2NoYW5nZV9wb3NcIj5cclxuICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJvcHRpb25fbmFtZVwiPtCh0LzQtdC90LjRgtGMINC/0L7Qt9C40YbQuNGOPC9hPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxpbmVfY2VsbCBjbGVhcl9maXggdWlfcm1lbnVfaXRlbV9zZWwgX3BhdXNlX3J1blwiPlxyXG4gICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cIm9wdGlvbl9uYW1lXCI+0J7RgtC60LvRjtGH0LjRgtGMINC00LLQuNC20LXQvdC40LU8L2E+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGluZV9jZWxsIGNsZWFyX2ZpeCB1aV9ybWVudV9pdGVtX3NlbCBfYW5pbV90b2dnbGVcIj5cclxuICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJvcHRpb25fbmFtZVwiPtCe0YLQutC70Y7Rh9C40YLRjCDQvNC10YDRhtCw0L3QuNC1PC9hPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxpbmVfY2VsbCBjbGVhcl9maXggdWlfcm1lbnVfaXRlbV9zZWwgX2l0ZW1zX3JlX2dlblwiPlxyXG4gICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cIm9wdGlvbl9uYW1lXCI+0KPQsdGA0LDRgtGMINGE0L7QvdCw0YDQuNC60Lg8L2E+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PmA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0KHQvtC30LTQsNC90LjQtSDQsdC70L7QutCwINGD0L/RgNCw0LLQu9C10L3QuNGPXHJcbiAgICBpbml0Q29udHJvbHMoKSB7XHJcbiAgICAgICAgbGV0IGhlYWRfbmF2X2J0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZF9uYXZfYnRucycpO1xyXG4gICAgICAgIGxldCB0b3Bfbm90aWZ5X2J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b3Bfbm90aWZ5X2J0bicpO1xyXG5cclxuICAgICAgICBpZiAoaGVhZF9uYXZfYnRucyAmJiB0b3Bfbm90aWZ5X2J0bikge1xyXG4gICAgICAgICAgICBsZXQgY2hyaXN0bWFzX2NvbnRyb2xzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGNocmlzdG1hc19jb250cm9scy5jbGFzc0xpc3QuYWRkKCdjaHJpc3RtYXMtY29udHJvbHMnLCAndG9wX25hdl9idG4nKTtcclxuICAgICAgICAgICAgLy8gY2hyaXN0bWFzX2NvbnRyb2xzLnRleHRDb250ZW50ID0gJ9CU0YDQsNGC0YPRgtC4ISc7XHJcblxyXG4gICAgICAgICAgICBsZXQgY29udHJvbHNfbGlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgY29udHJvbHNfbGlnaHQuY2xhc3NMaXN0LmFkZCgnY29udHJvbHNfbGlnaHQnKTtcclxuICAgICAgICAgICAgY2hyaXN0bWFzX2NvbnRyb2xzLmFwcGVuZENoaWxkKGNvbnRyb2xzX2xpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBjaHJpc3RtYXNfY29udHJvbHNfdHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgY2hyaXN0bWFzX2NvbnRyb2xzX3R0LmlubmVySFRNTCA9IHRoaXMuZ2V0VGVtcGxhdGUoKTtcclxuICAgICAgICAgICAgY2hyaXN0bWFzX2NvbnRyb2xzLmFwcGVuZENoaWxkKGNocmlzdG1hc19jb250cm9sc190dCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdldENvbnRyb2xzRWxlbShjaHJpc3RtYXNfY29udHJvbHMpO1xyXG4gICAgICAgICAgICB0aGlzLmluaXRDb250cm9sc0hhbmRsZXJzKGNocmlzdG1hc19jb250cm9scyk7XHJcblxyXG4gICAgICAgICAgICBoZWFkX25hdl9idG5zLmluc2VydEJlZm9yZShjaHJpc3RtYXNfY29udHJvbHMsIHRvcF9ub3RpZnlfYnRuKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnJWMlcycsICh3aW5kb3cubG9nX2NvbG9yKSA/IHdpbmRvdy5sb2dfY29sb3IucmVkIDogJycsICcqQ2hyaXN0bWFzIGxpZ2h0cyog0L3QtSDRg9C00LDQu9C+0YHRjCDRgdC+0LfQtNCw0YLRjCDQsdC70L7QuiDRg9C/0YDQsNCy0LvQtdC90LjRjycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpbml0U3RvcmFnZShnbG9iYWxfa2V5KSB7XHJcbiAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjaHJpc3RtYXNMaWdodHMnKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCBzdGFydF9vYmogPSB7XHJcbiAgICAgICAgICAgICAgICBhbW91bnQ6IHRoaXMuYW1vdW50LFxyXG4gICAgICAgICAgICAgICAgcGF1c2VfcnVuOiB0aGlzLnBhdXNlX3J1bixcclxuICAgICAgICAgICAgICAgIGluaXRfYW5pbWF0aW9uOiB0aGlzLmluaXRfYW5pbWF0aW9uLFxyXG4gICAgICAgICAgICAgICAgc2hvdzogdGhpcy5zaG93XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGdsb2JhbF9rZXksIEpTT04uc3RyaW5naWZ5KHN0YXJ0X29iaikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5TdG9yYWdlID0ge1xyXG4gICAgICAgICAgICBzZXQoa2V5LCB2YWwpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0bXAgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGdsb2JhbF9rZXkpKTtcclxuICAgICAgICAgICAgICAgIHRtcFtrZXldID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oZ2xvYmFsX2tleSwgSlNPTi5zdHJpbmdpZnkodG1wKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRtcDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0KGtleSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRtcCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oZ2xvYmFsX2tleSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0bXBba2V5XTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVtb3ZlKGtleSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRtcCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oZ2xvYmFsX2tleSkpO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRtcFtrZXldO1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oZ2xvYmFsX2tleSwgSlNPTi5zdHJpbmdpZnkodG1wKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRtcDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2xlYXIoKSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShnbG9iYWxfa2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXN0b3JlU2V0dGluZ3MoKSB7XHJcbiAgICAgICAgdGhpcy5hbW91bnQgPSB0aGlzLlN0b3JhZ2UuZ2V0KCdhbW91bnQnKTtcclxuICAgICAgICB0aGlzLnBhdXNlX3J1biA9IHRoaXMuU3RvcmFnZS5nZXQoJ3BhdXNlX3J1bicpO1xyXG4gICAgICAgIHRoaXMuaW5pdF9hbmltYXRpb24gPSB0aGlzLlN0b3JhZ2UuZ2V0KCdpbml0X2FuaW1hdGlvbicpO1xyXG4gICAgICAgIHRoaXMuc2hvdyA9IHRoaXMuU3RvcmFnZS5nZXQoJ3Nob3cnKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYW1vdW50OiB0aGlzLmFtb3VudCxcclxuICAgICAgICAgICAgcGF1c2VfcnVuOiB0aGlzLnBhdXNlX3J1bixcclxuICAgICAgICAgICAgaW5pdF9hbmltYXRpb246IHRoaXMuaW5pdF9hbmltYXRpb24sXHJcbiAgICAgICAgICAgIHNob3c6IHRoaXMuc2hvd1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLmluaXRTdG9yYWdlKCdjaHJpc3RtYXNMaWdodHMnKTtcclxuICAgICAgICB0aGlzLnJlc3RvcmVTZXR0aW5ncygpO1xyXG5cclxuICAgICAgICBzdXBlci5pbml0KCk7XHJcblxyXG5cclxuICAgICAgICAvLyDQl9Cw0L/Rg9GB0Log0YHQvtC30LTQsNC90LjRjyDQsdC70L7QutCwINGD0L/RgNCw0LLQu9C10L3QuNGPXHJcbiAgICAgICAgdGhpcy5pbml0Q29udHJvbHMoKTtcclxuXHJcbiAgICB9XHJcbn0iXX0="}